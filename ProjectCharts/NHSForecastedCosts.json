{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 500,
    "height": 400,
    "data": {
      "url": "https://raw.githubusercontent.com/jesme00/jesme00.github.io/main/Future%20costs%20of%20elevated%20BMI%20(%C2%A3%20billion%20per%20year).csv"
    },
    "title": {
      "text": "Forecasted Costs of Elevated BMI",
      "fontSize": 18,
      "anchor": "start",
      "subtitle": "Source: Government Office for Science",
      "subtitleFontStyle": "italic",
      "subtitlePadding": 4,
      "subtitleFontSize": 13,
      "color": "black"
    },
  "padding":1,
    "transform": [
      {"fold": ["2025", "2050"], "as": ["var", "val"]}
    ],
  
    "mark": "bar",
    "encoding": {
      "y": {
        "field": "Measure",
        "type": "ordinal",
        "sort": {"encoding": "x", "order": "ascending"},
        "axis": {
          "title": [""], 
          "labelFontSize": 12,      
          "labelFontWeight":"normal",
          "labelLimit":4010,
          "labelFlush": false,
          "ticks": false,
          "tickOpacity": 0.7,
          "gridOpacity": 0.8,
          "titleFontSize": 17,
          "titlePadding": 2,
          "titleFontWeight": "bold"
          }
      },
      "x": {
        "field": "val",
        "type": "quantitative",
        "axis": {
          "title": "£ billions per year",
          "titleX":495,
          "titleAnchor":"end",
          "labelFontSize": 14,
          "tickCount": 4,
          "tickWidth": 1,
          "ticks": false,
          "tickOpacity": 0.7,
          "gridOpacity": 0.8,
          "titleFontSize": 17,
          "titlePadding": 2,
          "titleFontWeight": "bold"
        }
  
      },
      "color": {
        "field": "var",
        "type": "nominal",
        "scale": {"scheme": "tableau20"},
        "title": [""],
        "legend": {
          "orient": "top-right",
          "labelExpr": "{'2025': '2025', '2050': '2050'}[datum.label]",
          "labelFontSize":15,
          "labelFont":"Arial"
        }
      },
      "yOffset": {"field": "var", "type": "nominal"},
      "tooltip": [
        {
          "field": "2025",
          "type": "nominal",
          "title": "2025 forecasted cost (£bn)"
        },
        {
          "field": "2050",
          "type": "nominal",
          "title": "2050 forecasted cost (£bn)"
        },
              {
          "field": "Measure",
          "type": "nominal",
          "title": "Measure"
        }
      ]
    }
  }
